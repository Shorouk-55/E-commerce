<section class="p-4 sm:p-6 md:p-8 lg:p-10 min-h-screen bg-gradient-to-br ">
    <!-- Header -->
    <div class="max-w-7xl mx-auto">
        <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-center capitalize mb-6 lg:mb-8 text-gray-800">
            brand<span class="text-[#fd4393] animate-pulse">s</span>
        </h1>
        <!-- Search Section -->
        <div class="mb-8 lg:mb-12">
            <div class="relative max-w-md mx-auto">
                <input [(ngModel)]="search" type="search" placeholder="Search brands..." class="w-full px-4 py-3 pl-12 border-2 border-[#fd4393] rounded-full 
                    focus:outline-none focus:ring-2 focus:ring-[#fd4393] focus:ring-opacity-50
                    transition-all duration-300 shadow-sm hover:shadow-md
                    text-sm sm:text-base" aria-label="Search brands by title" />
                <!-- Search Icon -->
                <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </div>
        </div>

        <!-- Brands Grid -->
        <div class="mb-8 lg:mb-12">
            <!-- Results Counter -->
            <div class="mb-6 text-center text-sm text-gray-600">
                @if((allBrands()|filter:search()).length > 0){
                Showing {{ (allBrands()|filter:search())?.length }} brand{{ (allBrands()|filter:search())?.length === 1
                ?
                '' : 's'
                }}
                }
            </div>

            <!-- Grid Container -->
            <div
                class="grid gap-4 sm:gap-6 grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6">
                @for (brand of allBrands()|filter:search()|paginate: {
                id: 'brandsPagination',
                itemsPerPage: pageSize,
                currentPage: p,
                totalItems: total
                }; track brand._id) {

                <div class="group bg-white rounded-2xl shadow-md hover:shadow-xl 
                        transition-all duration-300 transform hover:-translate-y-1
                        border border-gray-100 overflow-hidden">

                    <!-- Image Container -->
                    <div class="relative overflow-hidden">
                        <a href="#" class="block aspect-square relative"
                            [attr.aria-label]="'View ' + brand.name + ' details'">
                            <img class="w-full  object-cover transition-transform duration-300 
                            group-hover:scale-105" [src]="brand.image" [alt]="brand.name + ' logo'"
                                onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTA4LjI4NCA3MCA5NS4wMDM5IDc4LjI4NDMgOTUuMDAzOSA4OC41Vjg4LjVWMTExLjVDOTUuMDAzOSAxMjEuNzE2IDEwMy4yODggMTMwIDExMy41MDQgMTMwSDEzNi40OTZDMTQ2LjcxMiAxMzAgMTU0Ljk5NiAxMjEuNzE2IDE1NC45OTYgMTExLjVWODguNUM5NS4wMDM5IDc4LjI4NDMgOTEuNzE2IDcwIDEwMCA3MFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHN2Zz4K'" />
                            <!-- Loading shimmer effect -->
                            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent 
                            opacity-0 group-hover:opacity-20 transform -skew-x-12 -translate-x-full 
                            group-hover:translate-x-full transition-all duration-700"></div>
                        </a>
                    </div>

                    <!-- Content -->
                    <div class="p-4 sm:p-5">
                        <a href="#" class="block group-hover:text-[#fd4393] transition-colors duration-200"
                            [attr.aria-label]="'View ' + brand.name + ' details'">
                            <h2 class="text-lg sm:text-xl font-bold tracking-tight text-gray-900 
                            line-clamp-2 leading-tight">
                                {{ brand.name }}
                            </h2>
                        </a>
                    </div>
                </div>
                }
            </div>
        </div>
        <!-- No Results Message -->
        @if((allBrands()|filter:search()).length === 0) {
        <div class="max-w-md mx-auto text-center py-12">
            <div class="bg-white rounded-2xl shadow-lg p-8 border border-gray-200">
                <!-- No results icon -->
                <div class="mb-6">
                    <svg class="mx-auto h-16 w-16 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-2">
                    No Results Found
                </h3>
                <p class="text-gray-600 mb-4">
                    We couldn't find any brands matching "{{ search() }}"
                </p>
                <button (click)="clearSearch()" class="inline-flex items-center px-4 py-2 bg-[#fd4393] text-white 
                    rounded-full hover:bg-[#e13d85] transition-colors duration-200
                    focus:outline-none focus:ring-2 focus:ring-[#fd4393] focus:ring-opacity-50">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                    Clear Search
                </button>
            </div>
        </div>
        }
        <!-- Pagination -->
        <div class="flex justify-center pt-6 lg:pt-8">
            <pagination-controls class="pagination-wrapper" id="brandsPagination" (pageChange)="onpageChange($event)"
                previousLabel="‹ Previous" nextLabel="Next ›">
            </pagination-controls>
        </div>
    </div>
</section>