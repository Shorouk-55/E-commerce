<section>
    <!-- container class -->
    <div class="p-5 md:p-10">
        <div class="text-2xl sm:text-3xl lg:text-4xl font-bold text-center capitalize mb-6 lg:mb-8 text-gray-800">
            al<span class="text-[#fd4393]">l</span> products
        </div>

        <!-- Search Section -->
        <div class="mb-8 lg:mb-12">
            <div class="relative max-w-md mx-auto">
                <input [(ngModel)]="searchTerm" type="search" placeholder="Search brands..." class="w-full px-4 py-3 pl-12 border-2 border-[#fd4393] rounded-full 
                    focus:outline-none focus:ring-2 focus:ring-[#fd4393] focus:ring-opacity-50
                    transition-all duration-300 shadow-sm hover:shadow-md
                    text-sm sm:text-base" aria-label="Search brands by title" />
                <!-- Search Icon -->
                <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </div>
        </div>

        <div class="mb-6 text-center text-sm text-gray-600">
            @if((allproducts()|filter:searchTerm()).length > 0){
            Showing {{ (allproducts()|filter:searchTerm()).length }} product{{
            (allproducts()|filter:searchTerm()).length
            === 1 ?
            '' : 's'
            }}
            }
        </div>
        <!-- old code -->
        <!-- <div class="parent my-5 grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 "> -->
        <!-- @for (product of allproducts() | filter:searchTerm | paginate: { id: 'foo',
            itemsPerPage: pageSize,
            currentPage: p,
            totalItems: total }; track product.id) { -->
        <!-- new code -->
        <app-card [allproducts]="allproducts()|filter:searchTerm()|paginate: { id: 'foo',
            itemsPerPage: pageSize,
            currentPage: pageSignal(),
            totalItems: total }">


        </app-card>
        <!-- } -->
        <!-- No Results Message -->
        @if((allproducts()|filter:searchTerm()).length === 0) {
        <div class="max-w-md mx-auto text-center py-12">
            <div class="bg-white rounded-2xl shadow-lg p-8 border border-gray-200">
                <!-- No results icon -->
                <div class="mb-6">
                    <svg class="mx-auto h-16 w-16 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-2">
                    No Results Found
                </h3>
                <p class="text-gray-600 mb-4">
                    We couldn't find any brands matching "{{ searchTerm() }}"
                </p>
                <button (click)="clearSearch()" class="inline-flex items-center px-4 py-2 bg-[#fd4393] text-white 
                    rounded-full hover:bg-[#e13d85] transition-colors duration-200
                    focus:outline-none focus:ring-2 focus:ring-[#fd4393] focus:ring-opacity-50">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                    Clear Search
                </button>
            </div>
        </div>
        }
        <!-- Pagination -->
        <!-- new code -->
        <div class="flex justify-center pt-6 lg:pt-8">
            <pagination-controls class="pagination-wrapper" id="foo" (pageChange)="onPageChange($event)"
                previousLabel="‹ Previous" nextLabel="Next ›">
            </pagination-controls>
        </div>

        <!-- old code -->
        <!-- <div class="flex justify-center pt-6 lg:pt-8">
            <pagination-controls class="pagination-wrapper" id="brandsPagination" (pageChange)="getProductsData($event)"
                previousLabel="‹ Previous" nextLabel="Next ›">
            </pagination-controls>
        </div> -->
    </div>
</section>